<template>
    <div>
        <h1>Admin</h1>
        <div class="col-xs-4">
            <h3>Subscribers</h3>
            <ul v-if="subscribers.length">
                <li v-for="item in subscribers">
                    {{item.email}}
                    <button v-on:click="unsubscribe(item)" class="btn btn-link">
                        Unsubscribe
                    </button>
                </li>
            </ul>
            <p v-else class="text-success">No subscribers</p>
        </div>
        <div class="col-xs-4">
            <h3>Gallery</h3>
            <h4>Add Entry</h4>
            <div class="form-group">
                <input class="form-control" v-model="newTitle" type="text" placeholder="Heading">
                <textarea class="form-control" v-model="newDescription" placeholder="Description" name="" id="" rows="4"></textarea>
                <input type="file" id="file" v-on:change="fileChange($event.target.files)">
                <button v-on:click="addEntry($event)">Submit</button>
            </div>


            <h4>Entries</h4>
            <div v-if="galleryEntries.length">
                <div v-for="item in galleryEntries">
                    <div class="col-xs-8">
                        <div class=" panel panel-default">
                            <div class="panel-heading">{{item.title}}</div>
                            <div class="panel-body"> {{item.description}}</div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <button v-on:click="deleteEntry(item)" class="btn btn-danger">delete</button>
                    </div>

                </div>
            </div>
            <p v-else class="text-success">No entries</p>
        </div>
    </div>
</template>

<script src="./admin.ts"></script>